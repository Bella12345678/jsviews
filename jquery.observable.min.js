(function(a){a.observable=function(b){return a.isArray(b)?new d(b):new c(b)};var e=[].splice;function c(a){if(!this.data)return new c(a);this._data=a;return this}a.observable.Object=c;c.prototype={_data:null,data:function(){return this._data},setProperty:function(b,e){if(a.isArray(b))for(var h=0,l=b.length;h<l;h++){var j=b[h];this.setProperty(j.name,j.value)}else if(typeof b==="object")for(var k in b)this.setProperty(k,b[k]);else{var g,d,i=this._data,c=f(i,b);b=c[1];c=c[0];if(c){d=c[b];if(a.isFunction(d)){g=d;d=d.call(c)}if(d!==e){if(g){g.call(c,e);e=g.call(c)}else c[b]=e;a(i).triggerHandler("propertyChange",{path:b,value:e})}}}return this}};function f(a,b){if(a&&b){var c=b.split(".");b=c.pop();while(a&&c.length)a=a[c.shift()];return[a,b]}return[]}function d(a){if(!this.data)return new d(a);this._data=a;return this}function b(c,b){a([c]).triggerHandler("arrayChange",b)}a.observable.Array=d;d.prototype={_data:null,data:function(){return this._data},insert:function(c){var a=[].slice.call(arguments,1);if(a.length>0){e.apply(this._data,[c,0].concat(a));b(this._data,{change:"insert",index:c,items:a})}},remove:function(c,a){a=a===undefined||a===null?1:a;if(a){var d=this._data.slice(c,c+a);this._data.splice(c,a);b(this._data,{change:"remove",index:c,items:d})}},move:function(d,g,c){c=c===undefined||c===null?1:c;if(c){var e=this._data.slice(d,d+c),f=a.observable(this._data);b(this._data,{change:"move",oldIndex:d,index:index,items:e})}},refresh:function(a){e.apply(this._data,[0,this._data.length].concat(a));b(this._data,{change:"refresh"})}}})(jQuery);